# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Cloudquery < Formula
  desc "Easily monitor and ask questions about your infrastructure."
  homepage "https://cloudquery.io"
  version "0.13.5"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.13.5/cloudquery_Darwin_x86_64.zip"
      sha256 "e7e83b88622de76fbe11538c79ae8385449e9ea3e7eaa6dcf29eaec1b4c57147"
    end
    if Hardware::CPU.arm?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.13.5/cloudquery_Darwin_arm64.zip"
      sha256 "1de4f79fc4a238580b2af34865b00110e9fd4b662a679ef8eccd348305c89c52"
    end

    depends_on arch: [:x86_64, :aarch64]
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.13.5/cloudquery_Linux_x86_64.zip"
      sha256 "942f67f7c46bb0811a491ce6c2db8df24cb8d773d1cbfa73e68a4e8d42fca018"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.13.5/cloudquery_Linux_arm64.zip"
      sha256 "1df4c8194a60afab57cb21ff4eb420a7276e97f5e09053414a40a027ef62a131"
    end

    depends_on arch: [:x86_64, :aarch64]
  end

  def install
    bin.install "cloudquery"
    output = Utils.safe_popen_read("#{bin}/cloudquery", "completion", "bash")
    (bash_completion/"cloudquery").write output
    output = Utils.safe_popen_read("#{bin}/cloudquery", "completion", "zsh")
    (zsh_completion/"_cloudquery").write output
    output = Utils.safe_popen_read("#{bin}/cloudquery", "completion", "fish")
    (fish_completion/"cloudquery.fish").write output
  end
end
