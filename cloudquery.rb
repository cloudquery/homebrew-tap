# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Cloudquery < Formula
  desc "Easily monitor and ask questions about your infrastructure."
  homepage "https://cloudquery.io"
  version "0.14.6"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.14.6/cloudquery_Darwin_x86_64.zip"
      sha256 "8053cd26670fa85e86da473bf45c941ce1e98890756a4fd0386fc2cfaf2caac6"
    end
    if Hardware::CPU.arm?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.14.6/cloudquery_Darwin_arm64.zip"
      sha256 "847991a74cc264f2f5b1e87373963c0b28aa1395d77241b9b464fbd1cdae4273"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.14.6/cloudquery_Linux_x86_64.zip"
      sha256 "eadc6edd80bddb0b4261880973b871478d4188da645aba49e0c511528e7c4a7f"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/cloudquery/cloudquery/releases/download/v0.14.6/cloudquery_Linux_arm64.zip"
      sha256 "1f9674a5c82243dfca4ff574aedd8cfdc1e8bf71143b0b55575d0e9ecb8c4089"
    end
  end

  def install
    bin.install "cloudquery"
    output = Utils.safe_popen_read("#{bin}/cloudquery", "completion", "bash")
    (bash_completion/"cloudquery").write output
    output = Utils.safe_popen_read("#{bin}/cloudquery", "completion", "zsh")
    (zsh_completion/"_cloudquery").write output
    output = Utils.safe_popen_read("#{bin}/cloudquery", "completion", "fish")
    (fish_completion/"cloudquery.fish").write output
  end
end
